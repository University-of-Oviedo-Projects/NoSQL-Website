<!DOCTYPE html>

<html lang="es">
    <head>
        <meta charset="UTF-8">
        <meta name="author" content="Equipo XXX">
        <meta name="keywords" content="Battles, WWII">
        <meta name="description" content="Major battles of World War II">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>World War II - Battles</title>
        <link rel="icon" href="multimedia/favicon.ico">

        <link rel="preload" href="../css/global.css" as="style">
        <link rel="stylesheet" href="../css/global.css">
        <link rel="preload" href="../css/cards.css" as="style">
        <link rel="stylesheet" href="../css/cards.css">

        <!-- Custom JS -->
        <script src="../js/authCheck.js"></script>

        <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet">
        <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
        <script defer src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
        <script defer src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
    </head>

    <body>
        <header class="bg-dark text-white p-4">
            <div class="container">
                <h1 class="display-4">Major Battles of World War II</h1>
                <nav class="navbar navbar-expand-lg navbar-dark">
                    <a class="navbar-brand" href="home.html">Home</a>
                    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                    </button>
                    <div class="collapse navbar-collapse" id="navbarNav">
                        <ul class="navbar-nav ml-auto">
                            <li class="nav-item">
                                <a class="nav-link" href="countries.html">Countries</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="leaders.html">Leaders</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="battles.html">Battles</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="technologies.html">Technologies</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="alliances.html">Alliances</a>
                            </li>
                        </ul>
                    </div>
                </div>
            </nav>
        </header>

        <div class="container mt-4">
            <div class="text-center mb-4">
                <h2>Key Battles of World War II</h2>
                <p>Explore the significant battles that determined the outcome of the war.</p>
            </div>
        
            <div class="row" id="battle-cards">
                <!-- Dynamic battle cards will be inserted here -->
                <div class="col-md-4">
                    <div class="card mb-4 shadow-sm">
                        <img src="multimedia/Stalingrado.jpg" class="card-img-top" alt="Battle Name">
                        <div class="card-body">
                            <!-- Dynamic content will go here -->
                        </div>
                    </div>
                </div>
        
                <div class="col-md-4">
                    <div class="card mb-4 shadow-sm">
                        <img src="multimedia/Normandia.jpg" class="card-img-top" alt="Battle Name">
                        <div class="card-body">
                            <!-- Dynamic content will go here -->
                        </div>
                    </div>
                </div>
        
                <div class="col-md-4">
                    <div class="card mb-4 shadow-sm">
                        <img src="multimedia/PearlHarbor.jpg" class="card-img-top" alt="Battle Name">
                        <div class="card-body">
                            <!-- Dynamic content will go here -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <script>
            const battleDescriptions = [
                "The Battle of Stalingrad was a brutal confrontation between Nazi Germany and the Soviet Union during WWII. It marked the turning of the tide in favor of the Allies in the Eastern Front.",
                "The Normandy Landings, also known as D-Day, were a pivotal moment in WWII when Allied forces landed in France to begin the liberation of Western Europe from Nazi occupation.",
                "The Attack on Pearl Harbor was a surprise military strike by the Japanese Navy against the United States naval base in Hawaii, leading to the US entering WWII."
            ];

            // Fetch battle data from the server
            fetch('http://localhost:3000/battles')
                .then(response => response.json())
                .then(battles => {
                    const battleCardsContainer = document.getElementById('battle-cards');
                    const cards = battleCardsContainer.children; 
                    let index = 0;

                    battles.forEach(battle => {
                        if (index >= cards.length) return; 
                        const description = battleDescriptions[index] || "Descripción no disponible.";
            
                        const card = cards[index];
                        const cardBody = card.querySelector('.card-body');
            
                        cardBody.innerHTML = `
                            <h5 class="card-title">${battle.name}</h5>
                            <p class="card-text">Year: ${battle.year.low}</p>
                            <p class="card-text">${description}</p> <!-- Descripción añadida -->
                        `;
            
                        index++; 
                    });
                })
                .catch(error => console.error('Error loading battle data:', error));
        </script> 
    </body>
</html>
